{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="profile-container">
    <h2>{{ profile.user.username }}'s Profile</h2>
    <form method="post" action="{% url 'profile' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label for="id_full_name">Full Name:</label>
                    <input type="text" id="id_full_name" name="full_name" class="form-control" value="{{ form.full_name.value }}">
                </div>
                <div class="form-group">
                    <label for="id_email">Email:</label>
                    <input type="email" id="id_email" name="email" class="form-control" value="{{ form.email.value }}">
                </div>
                <div class="form-group">
                    <label for="id_phone_number">Phone Number:</label>
                    <input type="text" id="id_phone_number" name="phone_number" class="form-control" value="{{ form.phone_number.value }}">
                </div>
                <div class="form-group">
                    <label for="id_old_password">Old Password:</label>
                    <input type="password" id="id_old_password" name="old_password" class="form-control">
                </div>
                <div class="form-group">
                    <label for="id_new_password">New Password:</label>
                    <input type="password" id="id_new_password" name="new_password" class="form-control">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Update Profile</button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="profile-picture-container">
                    {% if profile.profile_picture %}
                        <img src="{{ profile.profile_picture.url }}" alt="Profile Picture" class="profile-picture">
                        <p>Debug: {{ profile.profile_picture.url }}</p>
                    {% else %}
                        <img src="{% static 'images/default_profile_picture.png' %}" alt="Default Profile Picture" class="profile-picture">
                        <p>Debug: No profile picture</p>
                    {% endif %}
                    <div class="form-group">
                        <label for="id_profile_picture">Profile Picture:</label>
                        <input type="file" id="id_profile_picture" name="profile_picture" class="form-control">
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}
